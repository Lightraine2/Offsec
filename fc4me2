#include <sys/mman.h>
#include <string.h>
#include <stdio.h>

char sc[]= "\x31\xC0\x50\x68\x20\x70\x23\x77\x68\x76\x71\x70\x73\x68\x76\x22\x22\x75\x68\x79\x77\x72\x24\x68\x23\x24\x24\x25\x68\x76\x75\x20\x74\x68\x72\x22\x22\x23\x68\x25\x75\x25\x24\x68\x77\x72\x75\x76\x68\x74\x22\x76\x79\x68\x27\x77\x76\x75\x68\x23\x20\x23\x78\x68\x72\x25\x20\x71\x68\x76\x73\x24\x71\x68\x78\x20\x74\x27\x68\x20\x25\x79\x79\x68\x20\x77\x20\x72\x68\x24\x71\x27\x22\x68\x20\x25\x78\x72\x68\x22\x72\x70\x23\x68\x76\x73\x20\x71\x68\x72\x77\x73\x20\x68\x74\x22\x27\x70\x68\x79\x77\x75\x75\x68\x75\x25\x73\x76\x68\x78\x25\x27\x24\x68\x20\x73\x79\x72\x68\x75\x24\x23\x24\x68\x78\x74\x25\x73\x68\x20\x78\x79\x23\x68\x27\x74\x20\x79\x68\x20\x76\x78\x74\x54\x5E\x8B\xFE\x8B\xD7\xFC\xB9\x80\x00\x00\x00\xBB\x41\x00\x00\x00\x31\xC0\x50\xAC\x33\xC3\xAA\xE2\xFA\x54\x5E\xCC";

int main(){
        void * a = mmap(0, 4096, PROT_EXEC |PROT_READ | PROT_WRITE, MAP_ANONYMOUS | MAP_SHARED, -1, 0);
        printf("allocated executable memory at: %p\n", a);
        ((void (*)(void)) memcpy(a, sc, sizeof(sc)))();
}
