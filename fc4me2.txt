#include <sys/mman.h>
#include <string.h>
#include <stdio.h>

char sc[]= "\x31\xC0\x50\x68\x25\x25\x22\x77\x68\x70\x79\x24\x23\x68\x71\x76\x76\x24\x68\x71\x20\x72\x74
\x68\x24\x77\x23\x73\x68\x23\x27\x70\x75\x68\x79\x72\x27\x77\x68\x24\x22\x76\x71\x68\x71\x79
\x20\x27\x68\x23\x25\x25\x75\x68\x78\x24\x23\x23\x68\x25\x24\x76\x77\x68\x27\x79\x72\x25\x68
\x23\x27\x24\x75\x68\x20\x74\x70\x78\x68\x71\x71\x20\x27\x68\x27\x71\x25\x76\x68\x72\x23\x74
\x74\x68\x73\x77\x23\x71\x68\x79\x73\x23\x79\x68\x76\x20\x71\x75\x68\x24\x27\x25\x24\x68\x23
\x25\x24\x75\x68\x78\x77\x71\x76\x68\x20\x25\x72\x73\x68\x77\x74\x75\x20\x68\x22\x71\x73\x72
\x68\x24\x76\x70\x78\x68\x25\x72\x73\x23\x68\x20\x20\x25\x74\x68\x22\x23\x78\x79\x68\x20\x77
\x79\x75\x54\x5E\x8B\xFE\x8B\xD7\xFC\xB9\x80\x00\x00\x00\xBB\x41\x00\x00\x00\x31\xC0\x50\xAC
\x33\xC3\xAA\xE2\xFA\x54\x5E\xCC";

int main(){
        void * a = mmap(0, 4096, PROT_EXEC |PROT_READ | PROT_WRITE, MAP_ANONYMOUS | MAP_SHARED, -1, 0);
        printf("allocated executable memory at: %p\n", a);
        ((void (*)(void)) memcpy(a, sc, sizeof(sc)))();
}

-ggdb3
a684cb98aad5d32be719c023654aad329607bde4efde7a0482b826b03b55f0d700afa519bfe4f83dde769ebbbdd408afec7083f6bf14e6b20a35077e18ebddc6
